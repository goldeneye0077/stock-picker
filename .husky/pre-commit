#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” è¿è¡Œ OpenAPI è§„èŒƒæ£€æŸ¥..."

# éªŒè¯ OpenAPI è§„èŒƒ
cd specs
npm run validate
if [ $? -ne 0 ]; then
  echo "âŒ OpenAPI è§„èŒƒéªŒè¯å¤±è´¥"
  exit 1
fi

# æ£€æŸ¥è§„èŒƒè´¨é‡
npm run lint
if [ $? -ne 0 ]; then
  echo "âš ï¸  OpenAPI è§„èŒƒè´¨é‡æ£€æŸ¥æœ‰è­¦å‘Š"
  # ä¸é˜»æ­¢æäº¤ï¼Œåªæ˜¾ç¤ºè­¦å‘Š
fi

echo "âœ… OpenAPI è§„èŒƒæ£€æŸ¥é€šè¿‡"